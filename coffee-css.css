:root{
  --bg1: #fff7ed; /* warm */
  --accent: #b45309; /* table */
  --muted: #6b7280;
  --card: #fff;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;color:#1f2937;background:linear-gradient(180deg,#fffbe6 0%, #fff5e0 60%, #f3f2f1 100%);display:flex;align-items:center;justify-content:center;padding:20px}
.stage{width:100%;max-width:880px}
.card{background:var(--card);border-radius:18px;padding:28px;box-shadow:0 8px 30px rgba(15,23,42,0.08);min-height:420px;display:flex;align-items:center;justify-content:center}
.panel{display:none;flex-direction:column;align-items:center;text-align:center}
.panel.active{display:flex}
.title{font-size:26px;margin:6px 0 8px;color:#1f2937}
.sub{color:var(--muted);margin:0 0 16px}
.controls{display:flex;gap:12px;align-items:center;justify-content:center;margin-top:8px}
.btn{background:transparent;border:2px solid rgba(31,41,55,0.08);padding:12px 18px;border-radius:14px;cursor:pointer;font-weight:600}
.btn.primary{background:linear-gradient(180deg,#ffedd5,#fed7aa);border:none;box-shadow:0 6px 14px rgba(165,55,9,0.12)}
.btn.big{padding:16px 36px;border-radius:20px; font-size:18px}

/* scene styling */
.scene{width:100%;height:320px;display:flex;align-items:center;justify-content:center}
.svg-scene{width:100%;height:320px}

/* transitions for panels */
.panel{opacity:0;transform:translateY(10px);transition:opacity .36s ease, transform .36s ease}
.panel.active{opacity:1;transform:none}

/* avatar/cup animation helpers */
#meAvatar, #herAvatar, #leftChair, #rightChair, #cups, #tableGroup{transition:transform 0.8s cubic-bezier(.2,.9,.2,1), opacity 0.4s}

/* Fix for chair positioning - chairs on opposite sides */
#leftChair {
  transform: translate(120px, 0px);
}

#rightChair {
  transform: translate(300px, 0px);
}

/* Avatar positioning relative to chairs */
#meAvatar {
  transform: translate(120px, 120px);
}

#herAvatar {
  transform: translate(300px, 120px);
}

/* Initial positions: avatars offscreen, chairs slightly pulled out */
.state-before-enter #leftChair { 
  transform: translate(40px, 0px); 
}
.state-before-enter #meAvatar { 
  transform: translate(40px, 160px); 
  opacity: 0; 
}
.state-before-enter #rightChair { 
  transform: translate(380px, 0px); 
}
.state-before-enter #herAvatar { 
  transform: translate(380px, 160px); 
  opacity: 0; 
}

/* Me walks in and pulls chair */
.state-before-her #meAvatar { 
  transform: translate(80px, 120px); 
  opacity: 1; 
}
.state-before-her #leftChair { 
  transform: translate(80px, 0px); 
}

/* Her walks in and pulls chair */
.state-her-in #herAvatar { 
  transform: translate(340px, 120px); 
  opacity: 1; 
}
.state-her-in #rightChair { 
  transform: translate(340px, 0px); 
}

/* Both sit */
.state-me-sit #leftChair { 
  transform: translate(120px, 0px); 
}
.state-me-sit #rightChair { 
  transform: translate(300px, 0px); 
}
.state-me-sit #meAvatar { 
  transform: translate(120px, 120px); 
  opacity: 1; 
}
.state-me-sit #herAvatar { 
  transform: translate(300px, 120px); 
  opacity: 1; 
}

/* subtle hover */
.btn:hover{transform:translateY(-3px);transition:transform .18s}

/* responsive */
@media (max-width:640px){
  .card{padding:20px}
  .title{font-size:20px}
  .svg-scene{height:240px}
  
  /* Adjust chair positions for mobile */
  #leftChair {
    transform: translate(100px, 0px);
  }
  #rightChair {
    transform: translate(280px, 0px);
  }
  #meAvatar {
    transform: translate(100px, 120px);
  }
  #herAvatar {
    transform: translate(280px, 120px);
  }
  .state-before-enter #leftChair { 
    transform: translate(20px, 0px); 
  }
  .state-before-enter #meAvatar { 
    transform: translate(20px, 160px); 
  }
  .state-before-enter #rightChair { 
    transform: translate(360px, 0px); 
  }
  .state-before-enter #herAvatar { 
    transform: translate(360px, 160px); 
  }
  .state-before-her #leftChair { 
    transform: translate(60px, 0px); 
  }
  .state-before-her #meAvatar { 
    transform: translate(60px, 120px); 
  }
  .state-her-in #rightChair { 
    transform: translate(320px, 0px); 
  }
  .state-her-in #herAvatar { 
    transform: translate(320px, 120px); 
  }
  .state-me-sit #leftChair { 
    transform: translate(100px, 0px); 
  }
  .state-me-sit #rightChair { 
    transform: translate(280px, 0px); 
  }
  .state-me-sit #meAvatar { 
    transform: translate(100px, 120px); 
  }
  .state-me-sit #herAvatar { 
    transform: translate(280px, 120px); 
  }
}